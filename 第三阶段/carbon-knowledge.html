<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>碳知识</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge，chrome=1">
    <link type="text/css" rel="stylesheet" href="css/perfect-scrollbar.min.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/carbon-knowledge.css">
    <script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="js/angular.js"></script>
    <script type="text/javascript" src="js/perfect-scrollbar.jquery.js"></script>
    <script>
        $(function () {
            $('.list').perfectScrollbar();
        })
    </script>
</head>
<body>
<div class="contain" ng-app="myApp">
    <div class="app_top">
        <div class="back"><i class="backIco"></i>返回</div>
        <div class="title">碳知识</div>
        <div class="rigBtn"></div>
    </div>
    <div class="app_main" ng-controller="myController">
        <ul class="list">
            <li ng-repeat="list in lists">
                <div class="item">
                    <!--<img ng-src="'images/carbonKnowledge/'+{list[index].iconPic}" class="item-icon">-->
                    <img ng-src="http://192.168.0.38:6001/static/images/{{list.iconPic}}" class="item-icon"
                         ng-click="goto(list.id)">
                    <label class="item-title">{{list.name}}</label>
                </div>
            </li>
            <!-- <li>
                 <div class="item">
                     <img src="images/carbonKnowledge/know-icon-1.png" class="item-icon">
                     <label class="item-title">能源电力</label>
                 </div>
             </li>
             <li>
                 <div class="item">
                     <img src="images/carbonKnowledge/know-icon-1.png" class="item-icon">
                     <label class="item-title">能源电力</label>
                 </div>
             </li>
             <li>
                 <div class="item">
                     <img src="images/carbonKnowledge/know-icon-1.png" class="item-icon">
                     <label class="item-title">能源电力</label>
                 </div>
             </li>
             <li>
                 <div class="item">
                     <img src="images/carbonKnowledge/know-icon-1.png" class="item-icon">
                     <label class="item-title">能源电力</label>
                 </div>
             </li>
             <li>
                 <div class="item">
                     <img src="images/carbonKnowledge/know-icon-1.png" class="item-icon">
                     <label class="item-title">能源电力</label>
                 </div>
             </li>
             <li>
                 <div class="item">
                     <img src="images/carbonKnowledge/know-icon-1.png" class="item-icon">
                     <label class="item-title">能源电力</label>
                 </div>
             </li>
             <li>
                 <div class="item">
                     <img src="images/carbonKnowledge/know-icon-1.png" class="item-icon">
                     <label class="item-title">能源电力</label>
                 </div>
             </li>-->
        </ul>
    </div>
    <div class="app_foot">
        <ul>
            <li>
                <div class="footerMet">
                    <i class="footerIco"></i>
                    <a href="carbon-message.html" class="footerTxt">碳资讯</a>
                </div>
                <div class="rightLine"></div>
            </li>
            <li>
                <div class="footerMet">
                    <i class="footerIco"></i>
                    <a href="carbon-trading.html" class="footerTxt">碳交易</a>
                </div>
                <div class="rightLine"></div>
            </li>
            <li>
                <div class="footerMet">
                    <i class="footerIco"></i>
                    <a href="carbon-knowledge.html" class="footerTxt">碳知识</a>
                </div>
                <div class="rightLine"></div>
            </li>
            <li>
                <div class="footerMet">
                    <i class="footerIco"></i>
                    <a href="carbon-footprint.html" class="footerTxt">碳足迹</a>
                </div>
                <div class="rightLine"></div>
            </li>
            <li>
                <div class="footerMet">
                    <i class="footerIco"></i>
                    <a href="mine.html" class="footerTxt">我的</a>
                </div>
            </li>
        </ul>
    </div>
</div>
<script>
    var app = angular.module('myApp', []);

    app.controller('myController', ['$scope', '$http', '$window', function ($scope, $http, $window) {
        $http({
            method: 'get',
            url: 'http://192.168.0.38:6001/ckList'
        }).then(function successCallback(response) {
            console.log(response);
            $scope.lists = response.data;
        }, function errorCallback(response) {
            console.log(response);
        });
        $scope.goto = function (id) {
            $window.location.href = 'carbon-knowledge-list.html?id=' + id;
        }
    }]);
</script>
</body>
</html>